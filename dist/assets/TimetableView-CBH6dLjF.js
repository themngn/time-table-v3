import{_ as f,c as s,a as r,F as y,r as a,o as i,t as n,D as h,b as m,A as k}from"./index-CA5ek_K4.js";var p={};const b={name:"UserView",data(){return{userID:"",timetable:{},days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysInUkr:{Monday:"Понеділок",Tuesday:"Вівторок",Wednesday:"Середа",Thursday:"Четвер",Friday:"П'ятниця",Saturday:"Субота",Sunday:"Неділя"},offlineMode:!1}},methods:{async fetchTimetable(t){if(!/^[0-9a-f]{24}$/.test(t)){alert("Invalid user ID");return}let d=await(await fetch(`${p.BASE_URL}/api/users/${t}/timetable`,{methods:"GET"}).then(l=>{if(l.status==404){this.offlineMode=!0;return}return l})).json();if(d==null){this.offlineMode=!0;return}this.timetable=d},linkToAppName(t){return t?t.includes("zoom")?"Zoom":t.includes("teams")?"Teams":t.includes("meet")?"Google Meet":"Other":"None"},displayPlace(t,o){return t&&o?`${t} / ${this.linkToAppName(o)}`:t||(o?this.linkToAppName(o):"Місце встрєчі знайти ніззя блядь!")}},mounted(){let t=localStorage.getItem("userID");t="66cae85934a410fb0e543090",t&&(console.log(t),this.userID=t,this.fetchTimetable(t))}},w={class:"course"},v={class:"days"},T={class:"weekday"},I={class:"day-title"},N={class:"classes"},S=r("br",null,null,-1),g={key:0},M={key:0},A={key:1},V={class:"datablock"},x={class:"class-name"},B={class:"class-teacher"},F=["href"],L={key:1,class:"class-room"};function P(t,o,d,l,u,c){return i(),s("div",w,[r("div",v,[(i(!0),s(y,null,a(u.days,_=>(i(),s("div",T,[r("div",I,n(u.daysInUkr[_]),1),r("div",N,[(i(!0),s(y,null,a(u.timetable[_],e=>(i(),s("div",{class:h(["class",{odd:e.biweekly&&e.biweekly_week,even:e.biweekly&&!e.biweekly_week}])},[r("div",{class:h(["class-time",{odd:e.biweekly&&e.biweekly_week,even:e.biweekly&&!e.biweekly_week,lecture:e.type=="Lecture",practice:e.type=="Practice",lab:e.type=="Lab",seminar:e.type=="Seminar"}])},[m(n(e.start_time)+" ",1),S,m(" "+n(e.end_time)+" ",1),e.biweekly==!0?(i(),s("div",g,[e.biweekly_week?(i(),s("div",M,"Чис.")):(i(),s("div",A,"Знам."))])):k("",!0)],2),r("div",V,[r("div",x,n(e.course),1),r("div",B,n(e.teacher),1),e.link?(i(),s("a",{key:0,class:"class-room",href:e.link},n(c.displayPlace(e.room,e.link)),9,F)):(i(),s("div",L,n(c.displayPlace(e.room,e.link)),1))])],2))),256))])]))),256))])])}const $=f(b,[["render",P]]);export{$ as default};
