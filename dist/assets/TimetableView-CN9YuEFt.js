import{_ as f,c as i,a as r,F as y,r as a,o as s,t as o,D as h,b as m,A as k}from"./index-Ca_jnSFy.js";const p={name:"UserView",data(){return{userID:"",timetable:{},days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysInUkr:{Monday:"Понеділок",Tuesday:"Вівторок",Wednesday:"Середа",Thursday:"Четвер",Friday:"П'ятниця",Saturday:"Субота",Sunday:"Неділя"},offlineMode:!1}},methods:{async fetchTimetable(t){if(!/^[0-9a-f]{24}$/.test(t)){alert("Invalid user ID");return}let d=await(await fetch(`$/api/users/${t}/timetable`,{methods:"GET"}).then(l=>{if(l.status==404){this.offlineMode=!0;return}return l})).json();if(d==null){this.offlineMode=!0;return}this.timetable=d},linkToAppName(t){return t?t.includes("zoom")?"Zoom":t.includes("teams")?"Teams":t.includes("meet")?"Google Meet":"Other":"None"},displayPlace(t,n){return t&&n?`${t} / ${this.linkToAppName(n)}`:t||(n?this.linkToAppName(n):"Місце встрєчі знайти ніззя блядь!")}},mounted(){let t=localStorage.getItem("userID");t="66cae85934a410fb0e543090",t&&(console.log(t),this.userID=t,this.fetchTimetable(t))}},b={class:"course"},w={class:"days"},v={class:"weekday"},T={class:"day-title"},I={class:"classes"},N=r("br",null,null,-1),g={key:0},M={key:0},S={key:1},V={class:"datablock"},x={class:"class-name"},A={class:"class-teacher"},F=["href"],P={key:1,class:"class-room"};function $(t,n,d,l,u,c){return s(),i("div",b,[r("div",w,[(s(!0),i(y,null,a(u.days,_=>(s(),i("div",v,[r("div",T,o(u.daysInUkr[_]),1),r("div",I,[(s(!0),i(y,null,a(u.timetable[_],e=>(s(),i("div",{class:h(["class",{odd:e.biweekly&&e.biweekly_week,even:e.biweekly&&!e.biweekly_week}])},[r("div",{class:h(["class-time",{odd:e.biweekly&&e.biweekly_week,even:e.biweekly&&!e.biweekly_week,lecture:e.type=="Lecture",practice:e.type=="Practice",lab:e.type=="Lab",seminar:e.type=="Seminar"}])},[m(o(e.start_time)+" ",1),N,m(" "+o(e.end_time)+" ",1),e.biweekly==!0?(s(),i("div",g,[e.biweekly_week?(s(),i("div",M,"Чис.")):(s(),i("div",S,"Знам."))])):k("",!0)],2),r("div",V,[r("div",x,o(e.course),1),r("div",A,o(e.teacher),1),e.link?(s(),i("a",{key:0,class:"class-room",href:e.link},o(c.displayPlace(e.room,e.link)),9,F)):(s(),i("div",P,o(c.displayPlace(e.room,e.link)),1))])],2))),256))])]))),256))])])}const L=f(p,[["render",$]]);export{L as default};
